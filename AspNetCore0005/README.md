# ASP.NET Core MVCメモ
## MVC全般
### AddMvcCoreとAddMvc
AddMvcCoreは最小限のMVCサービスを追加する。AddMvcは全てのMVCサービスを追加する。  
参考:https://qiita.com/sengoku/items/6c30d1de09a62e28348f  

### UseMvc
MVCサービスを追加したらUseMvcを使い、ルーティングを有効化する。  
UseMvcWithDefaultRouteでデフォルトのルートを設定できる。  
UseMvcにパラメーターを渡さなくてもアプリケーションは起動するが、ルートの設定がされていないため404エラーになる。  

### MapRoute
URLをコントローラーとメソッドのペアにマッピングするもの。  
ルートは上から順に評価されるため、記述する際は具体的なものから記述していく。  

### カスタムルート
UseMvcWithDefaultRouteで設定できるデフォルトルート以外にも、カスタムルートを設定することができる。  
カスタムルートでは様々な制約をつけることができる。  

## コントローラー
コントローラークラスの記述は2つに要約できる。  
- コントローラーとして検出可能なクラスの実装。  
- 実行時にアクションとして検出可能なメソッドの実装。

### 規約に基づくルーティングを使ったコントローラーの検出
Startup.csにUseMVCメソッドでルーティングの設定をする。  

### 属性ルーティングを使ったコントローラーの検出
コントローラークラス、コントローラーメソッドに[Route]属性を付けることでルートの設定ができる。  
属性ルーティングは規約に基づくルーティングよりも優先される。  

### コントローラーの継承
通常は基底クラスを継承し、クラス名に"Controller"という接尾辞をつける。  
ASP.NET Coreではクラス名に"Controller"という接尾辞をつけなくても大丈夫なやり方がある。  

### POCOコントローラー
Controllerを継承しないコントローラーはPOCOコントローラーと呼ばれる。  
Controller共通の処理が利用できなくなったり、実装が冗長になったりするが、オーバーヘッドやメモリ消費の削減になる。  

### アクションからメソッドへのマッピング
#### 名前のマッピング
- 属性なし
暗黙的にメソッド名がアクションになる。  
- [NonAction]
ブラウザから呼び出すことができなくなる。  
- [ActionNme("Hoge")]
Hogeというアクション名で呼び出すことができる。  
#### HTTPメソッドのマッピング
[HttpGet]、[HttpPost]などの属性をつけることで特定のHTTPメソッドからしか呼び出せないようにできる。  

### アクションメソッド
#### Requestオブジェクトから入力データを取得する
_  
#### モデルバインディング
_  
### アクションリザルト
### アクションフィルタ


